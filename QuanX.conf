# å›¾æ ‡åº“ â†’ Qureï¼šhttps://github.com/Koolson/Qure/tree/master/IconSet
# å¼•ç”¨blackmatrix7è§„åˆ™è„šæœ¬, KOP-XIAOçš„geo-checker jsè„šæœ¬, ip-apiæ•°æ®åº“

[general]
server_check_url=http://bing.com
dns_exclusion_list=*.cmpassport.com, id6.me, *.cmbchina.com, *.qq.com, *.baidu.com
geo_location_checker=http://ip-api.com/json/?lang=zh-CN, https://raw.githubusercontent.com/KOP-XIAO/QuantumultX/master/Scripts/IP_API.js
resource_parser_url=https://fastly.jsdelivr.net/gh/KOP-XIAO/QuantumultX@master/Scripts/resource-parser.js
excluded_routes=192.168.0.0/16, 172.16.0.0/12, 100.64.0.0/10, 10.0.0.0/8
fallback_udp_policy=direct

[dns]
no-ipv6
server=202.96.128.86
server=223.5.5.5

[policy]
# å…¶ä¸­ Apple Update ä¸ºå±è”½iOSç³»ç»Ÿæ›´æ–°çš„ç­–ç•¥ç»„ï¼Œé»˜è®¤ä¿æŒç›´è¿ï¼Œå¦‚æœ‰éœ€è¦å±è”½ï¼Œè¯·åœ¨ç­–ç•¥ç»„é¢æ¿è‡ªè¡Œåˆ‡æ¢è‡³REJECTï¼› 
# Others ä¸ºå…¶ä»–è§„åˆ™ï¼Œè‹¥å‰è¾¹çš„è§„åˆ™éƒ½æ²¡æœ‰è¢«åŒ¹é…åˆ°ï¼Œåˆ™å¬ä»æ­¤ç­–ç•¥ç»„çš„è§„å®šã€‚
static=Others, direct, proxy, img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Final.png
static=Mainland, direct, proxy, img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Domestic.png
# static=Global, proxy, direct, img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Global.png
static=CNMedia, direct, proxy, img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/DomesticMedia.png
# static=GBMedia, proxy, direct, img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/ForeignMedia.png
# static=AdBlock, reject, direct, img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Advertising.png
# static=Apple Update, direct, reject, proxy, img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Apple_Update.png
# static=Apple, direct, proxy, ğŸ‡¯ğŸ‡µJapan, ğŸ‡ºğŸ‡¸United States, img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Apple.png
# static=Microsoft, direct, proxy, img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Microsoft.png
# static=Speedtest, direct, proxy, img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Speedtest.png
static=Google, proxy, ğŸ‡­ğŸ‡°HongKong, ğŸ‡ºğŸ‡¸United States, img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Google_Search.png
# static=Steam, ğŸ‡­ğŸ‡°HongKong, ğŸ‡ºğŸ‡¸United States,direct, proxy, img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Steam.png
# satic=Spotify, Auto, direct, proxy, ğŸ‡­ğŸ‡°HongKong, ğŸ‡¨ğŸ‡³Taiwan, ğŸ‡¯ğŸ‡µJapan, ğŸ‡¸ğŸ‡¬Singapore, ğŸ‡ºğŸ‡¸United States, img-url=https://raw.githubusercontent.com/Kstoolson/Qure/master/IconSet/Color/Spotify.png
# static=Netflix, Auto, direct, proxy, ğŸ‡­ğŸ‡°HongKong, ğŸ‡¨ğŸ‡³Taiwan, ğŸ‡¯ğŸ‡µJapan, ğŸ‡¸ğŸ‡¬Singapore, ğŸ‡ºğŸ‡¸United States, img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Netflix_Letter.png
# static=Instagram, proxy, ğŸ‡­ğŸ‡°HongKong, ğŸ‡¨ğŸ‡³Taiwan, ğŸ‡¯ğŸ‡µJapan, ğŸ‡¸ğŸ‡¬Singapore, ğŸ‡ºğŸ‡¸United States, img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Instagram.png
# static=TikTok, proxy, ğŸ‡­ğŸ‡°HongKong, ğŸ‡¨ğŸ‡³Taiwan, ğŸ‡¯ğŸ‡µJapan, ğŸ‡¸ğŸ‡¬Singapore, ğŸ‡ºğŸ‡¸United States, img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/TikTok_1.png
# static=YouTube, proxy, ğŸ‡­ğŸ‡°HongKong, ğŸ‡¨ğŸ‡³Taiwan, ğŸ‡¯ğŸ‡µJapan, ğŸ‡¸ğŸ‡¬Singapore, ğŸ‡ºğŸ‡¸United States, img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/YouTube.png
# static=Pornhub, direct, proxy, ğŸ‡­ğŸ‡°HongKong, ğŸ‡¨ğŸ‡³Taiwan, ğŸ‡¯ğŸ‡µJapan, ğŸ‡¸ğŸ‡¬Singapore, ğŸ‡ºğŸ‡¸United States, img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Pornhub_1.png
# static=Telegram, proxy, ğŸ‡­ğŸ‡°HongKong, ğŸ‡ºğŸ‡¸United States, img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Telegram.png
# static=PayPal, direct, ğŸ‡ºğŸ‡¸United States, img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/PayPal.png
url-latency-benchmark=ğŸ‡­ğŸ‡°HongKong, server-tag-regex=(?=.*(é¦™æ¸¯|HK|(?i)Hong))^((?!(ä¸“çº¿|æ‰‹æ¸¸|æ¸¸æˆ|æµ·å¤–|game)).)*$, check-interval=1800, tolerance=0, img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Hong_Kong.png
url-latency-benchmark=ğŸ‡¨ğŸ‡³Taiwan, server-tag-regex=(?=.*(å°æ¹¾|å°ç£|TW|(?i)Taiwan))^((?!(ä¸“çº¿|æ‰‹æ¸¸|æ¸¸æˆ|æµ·å¤–|game)).)*$, check-interval=1800, tolerance=0, img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/China.png
url-latency-benchmark=ğŸ‡¯ğŸ‡µJapan, server-tag-regex=(?=.*(æ—¥æœ¬|JP|(?i)Japan))^((?!(ä¸“çº¿|æ‰‹æ¸¸|æ¸¸æˆ|æµ·å¤–|game)).)*$, check-interval=1800, tolerance=0, img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Japan.png
url-latency-benchmark=ğŸ‡¸ğŸ‡¬Singapore, server-tag-regex=(?=.*(æ–°åŠ å¡|ç‹®åŸ|SG|(?i)Singapore))^((?!(ä¸“çº¿|æ‰‹æ¸¸|æ¸¸æˆ|æµ·å¤–|game)).)*$, check-interval=1800, tolerance=0, img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Singapore.png
url-latency-benchmark=ğŸ‡ºğŸ‡¸United States, server-tag-regex=(?=.*(ç¾å›½|ç¾åœ‹|US|(?i)States|American))^((?!(ä¸“çº¿|æ‰‹æ¸¸|æ¸¸æˆ|æµ·å¤–|game)).)*$, check-interval=1800, tolerance=0, img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/United_States.png
# url-latency-benchmark=ğŸ‡·ğŸ‡ºRussia, server-tag-regex=(?=.*(ğŸ‡·ğŸ‡º|ä¿„|ä¿„ç½—æ–¯|ä¿„ç¾…æ–¯|RU|(?i)Russia))^((?!(ä¸“çº¿|æ‰‹æ¸¸|æ¸¸æˆ|æµ·å¤–|game)).)*$, check-interval=1800, tolerance=0, img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Russia.png
url-latency-benchmark=ğŸ‡¬ğŸ‡§United Kingdom, server-tag-regex=(?=.*(ğŸ‡¬ğŸ‡§|è‹±|è‹±å›½|è‹±åœ‹|ä¼¦æ•¦|UK|(?i)Britain|United Kingdom))^((?!(ä¸“çº¿|æ‰‹æ¸¸|æ¸¸æˆ|æµ·å¤–|game)).)*$, check-interval=1800, tolerance=0, img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/United_Kingdom.png
url-latency-benchmark=OtherWise, server-tag-regex=(?=.*(ä¿„|é©¬|å°|å¾·|åœŸ|é˜¿|æ‹¿|è²|æ¾³|çˆ±|è·|ç‘|å·´|è¶Š|æ³°|æŸ¬|æ³•|æ„|ä»¥))^((?!(ä¸“çº¿|æ‰‹æ¸¸|æ¸¸æˆ|æµ·å¤–|game)).)*$, check-interval=1800, tolerance=0, img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Global.png

[server_local]
# æœ¬åœ°æœåŠ¡å™¨éƒ¨åˆ†, è‡ªè¡Œæ·»åŠ å³å¯

[server_remote]
# èŠ‚ç‚¹è¿œç¨‹è®¢é˜…

[filter_remote]
# è¿œç¨‹åˆ†æµè§„åˆ™ç­–ç•¥ç»„
# https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/Apple/Apple.list, tag=Apple, force-policy=Apple, update-interval=86400, opt-parser=false, enabled=true
# https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/AppStore/AppStore.list, tag=AppStore, force-policy=Apple, update-interval=86400, opt-parser=false, enabled=true
# https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/Microsoft/Microsoft.list, tag=Microsoft, force-policy=Microsoft, update-interval=86400, opt-parser=false, enabled=true
# https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/Speedtest/Speedtest.list, tag=Speedtest, force-policy=Speedtest, update-interval=86400, opt-parser=false, enabled=true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/Google/Google.list, tag=Google, force-policy=Google, update-interval=86400, opt-parser=false, enabled=true
# https://raw.githubusercontent.com/DivineEngine/Profiles/master/Quantumult/Filter/Global.list, tag=Outside, force-policy=Outside, update-interval=86400, opt-parser=false, enabled=true
https://raw.githubusercontent.com/DivineEngine/Profiles/master/Quantumult/Filter/China.list, tag=Mainland, force-policy=Mainland, update-interval=86400, opt-parser=false, enabled=true
https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/StreamingMedia/Region/HK.list, tag=HKMedia, force-policy=ğŸ‡­ğŸ‡°HongKong, update-interval=86400, opt-parser=true, enabled=true
https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/StreamingMedia/Region/TW.list, tag=TWMedia, force-policy=ğŸ‡¨ğŸ‡³Taiwan, update-interval=86400, opt-parser=true, enabled=true
https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/StreamingMedia/Region/JP.list, tag=JPMedia, force-policy=ğŸ‡¯ğŸ‡µJapan, update-interval=86400, opt-parser=true, enabled=true
https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/StreamingMedia/Region/US.list, tag=USMedia, force-policy=ğŸ‡ºğŸ‡¸United States, update-interval=86400, opt-parser=true, enabled=true
https://raw.githubusercontent.com/DivineEngine/Profiles/master/Quantumult/Filter/StreamingMedia/StreamingCN.list, tag=CNMedia, force-policy=CNMedia, update-interval=86400, opt-parser=false, enabled=true
# https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/Steam/Steam.list, tag=Steam, force-policy=Steam, update-interval=86400, opt-parser=false, enabled=true
# https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/PayPal/PayPal.list, tag=PayPal, force-policy=Google, update-interval=86400, opt-parser=false, enabled=true
# https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/TikTok/TikTok.list, tag=TikTok, force-policy=Outside, update-interval=86400, opt-parser=false, enabled=true
# https://raw.githubusercontent.com/DivineEngine/Profiles/master/Quantumult/Filter/StreamingMedia/Video/Pornhub.list, tag=Pornhub, force-policy=Pornhub, update-interval=86400, opt-parser=false, enabled=true
# https://cdn.jsdelivr.net/gh/17mon/china_ip_list@master/china_ip_list.txt#type=rule, tag=ChinaIPv4, force-policy=direct, update-interval=86400, opt-parser=true, enabled=true
# https://gaoyifan.github.io/china-operator-ip/chinanet6.txt#type=rule, tag=ChinaIPv6, force-policy=direct, update-interval=86400, opt-parser=true, enabled=true
# https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/release/rewrite/QuantumultX/AdvertisingScript/AdvertisingScript.list, tag=AdBlock, update-interval=86400,opt-parser=true,enabled=true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/Advertising/Advertising.list, tag=AdBlock (å¹¿å‘Šæ‹¦æˆª), force-policy=reject, update-interval=86400, enabled=true
https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Guard/Privacy.list, tag=Privacy(éšç§), force-policy=reject, update-interval=86400, opt-parser=true, enabled=true
https://raw.githubusercontent.com/DivineEngine/Profiles/master/Quantumult/Filter/Guard/Hijacking.list, tag=è¿è¥å•†åŠ«æŒ,update-interval=172800, opt-parser=true, enabled=true
# https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/Instagram/Instagram.list, tag=Instagram, force-policy=Instagram, update-interval=86400, opt-parser=false, enabled=true
# https://raw.githubusercontent.com/DivineEngine/Profiles/master/Quantumult/Filter/StreamingMedia/Video/YouTube.list, tag=YouTube, force-policy=Google, update-interval=86400, opt-parser=false, enabled=true
# https://raw.githubusercontent.com/DivineEngine/Profiles/master/Quantumult/Filter/Extra/Telegram/Telegram.list, tag=Telegram, force-policy=Telegram, update-interval=86400, opt-parser=false, enabled=true
# https://raw.githubusercontent.com/DivineEngine/Profiles/master/Quantumult/Filter/StreamingMedia/Streaming.list, tag=GBMedia, force-policy=GBMedia, update-interval=86400, opt-parser=true, enabled=true
# https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/Netflix/Netflix.list, tag=Netflix, force-policy=Netflix, update-interval=86400, opt-parser=false, enabled=true
# https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/Spotify/Spotify.list, tag=Spotify, force-policy=Spotify, update-interval=86400, opt-parser=false, enabled=true
# https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/TestFlight/TestFlight.list, tag=Testflight, force-policy=Apple, update-interval=86400, opt-parser=true, enabled=true

[filter_local]
# æœ¬åœ°åˆ†æµè§„åˆ™(ç›¸åŒè§„åˆ™ä¸‹ï¼Œæœ¬åœ°è§„åˆ™å°†è¦†ç›–è¿œç¨‹è§„åˆ™ï¼Œä¼˜å…ˆç”Ÿæ•ˆ)
# ç»•è¿‡ä¼ä¸šè¯ä¹¦è¿‡æœŸ
# host, ocsp.apple.com, reject

# å±è”½ç³»ç»Ÿæ›´æ–°
# host, ns.itunes.apple.com, Apple Update
# host, appldnld.apple.com, Apple Update
# host, mesu.apple.com, Apple Update
# host, xp.apple.com, Apple Update
# host, gdmf.apple.com, Apple Update

# é¿å…è¿…é›·ç‰ˆæƒé—®é¢˜
# host, hub5idx.v6.shub.sandai.net, reject
# host, hub5emu.v6.shub.sandai.net, reject
# host, hub5btmain.v6.shub.sandai.net, reject

# é“¶è¡Œ
# HOST-SUFFIX,95599.cn,direct
# HOST-SUFFIX,abchina.com,direct
# HOST-SUFFIX,bscabank.com,direct
# HOST-SUFFIX,openaboc.cn,direct
# HOST-SUFFIX,openaboc.com,direct
# HOST-SUFFIX,openaboc.com.cn,direct

# Netease Music Advertising
# host,admusicpic.music.126.net,reject
# host,iadmat.nosdn.126.net,reject
# host,iadmusicmat.music.126.net,reject
# host,iadmusicmatvideo.music.126.net,reject

# å…¶ä»–
host-suffix, local, direct
ip-cidr, 10.0.0.0/8, direct
ip-cidr, 100.64.0.0/10, direct
ip-cidr, 127.0.0.0/8, direct
ip-cidr, 172.16.0.0/12, direct
ip-cidr, 192.168.0.0/16, direct
ip6-cidr, fe80::/10, direct
# Geoip
# geoip, cn, direct
# Final
final, Others

[rewrite_remote]
# https://raw.githubusercontent.com/rinhai/QuantumultX/main/Js_Script/Js_Script.conf, tag=å»å¹¿å‘Š, update-interval=86400, opt-parser=false, enabled=true
# https://raw.githubusercontent.com/rinhai/QuantumultX/main/Upgrade_Disable/Upgrade_Disable.conf, tag=å±è”½appå‡çº§, update-interval=86400, opt-parser=false, enabled=false
# https://raw.githubusercontent.com/rinhai/QuantumultX/main/Js_Script/jd_price.conf, tag=äº¬ä¸œæ¯”ä»·, update-interval=86400, opt-parser=false, enabled=false
# https://raw.githubusercontent.com/rinhai/QuantumultX/main/Js_Script/tb_price.conf, tag=æ·˜å®æ¯”ä»·, update-interval=86400, opt-parser=false, enabled=false
# https://raw.githubusercontent.com/app2smile/rules/master/module/bilibili-qx.conf, tag=Bç«™å»å¹¿å‘Š, update-interval=86400, opt-parser=false, enabled=true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/release/rewrite/QuantumultX/Advertising/Advertising.conf, tag=é‡å†™å»å¹¿å‘Š, update-interval=86400, opt-parser=false, enabled=true
https://raw.githubusercontent.com/rinhai/QuantumultX/main/Js_Script/Js_Script.conf, tag=è„šæœ¬å»å¹¿å‘Š, update-interval=86400, opt-parser=false, enabled=true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/script/bilibili/bilibili_plus.qxrewrite, tag=å“”ç«™å»å¹¿å‘Š, update-interval=86400, opt-parser=false, enabled=true
# https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/script/smzdm/smzdm_remove_ads.qxrewrite, tag=å€¼ä¹°å»å¹¿å‘Š, update-interval=86400, opt-parser=false, enabled=true
# https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/script/zhihu/zhihu_lite.qxrewrite, tag=çŸ¥ä¹åŠ©æ‰‹_å»å¹¿å‘Š, update-interval=86400, opt-parser=false, enabled=true
https://raw.githubusercontent.com/chavyleung/scripts/master/box/rewrite/boxjs.rewrite.quanx.conf, tag=Boxjs, update-interval=86400, opt-parser=false, enabled=false

[rewrite_local]
# æœ¬åœ°å¤å†™è§„åˆ™

[task_local]
# å…¶ä»–è‡ªåŠ¨åŒ–è„šæœ¬åŠå®šæ—¶ä¿¡æ¯

[http_backend]
# https://raw.githubusercontent.com/chavyleung/scripts/master/chavy.box.js, host=boxjs.com, tag=BoxJS, path=^/, enabled=true

[mitm]
# éœ€è¦åœ¨åœˆxè®¾ç½®ä¸­ç”Ÿæˆmitmè¯ä¹¦å¹¶å®‰è£…å,åœˆxæ‰èƒ½æ­£å¸¸å·¥ä½œã€‚
skip_validating_cert = true
