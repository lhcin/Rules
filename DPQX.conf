# å›¾æ ‡åº“ â†’ Qureï¼šhttps://github.com/Koolson/Qure/tree/master/IconSet
# å¼•ç”¨blackmatrix7è§„åˆ™è„šæœ¬, KOP-XIAOçš„geo-checker jsè„šæœ¬, ip-apiæ•°æ®åº“
# made by dpdpzz

[general]
server_check_url=http://163.com
dns_exclusion_list=*.cmpassport.com, id6.me, *.cmbchina.com, *.qq.com, *.baidu.com
geo_location_checker=http://ip-api.com/json/?lang=zh-CN, https://cdn.jsdelivr.net/gh/KOP-XIAO/QuantumultX@master/Scripts/IP_API.js
resource_parser_url=https://fastly.jsdelivr.net/gh/KOP-XIAO/QuantumultX@master/Scripts/resource-parser.js
excluded_routes=192.168.0.0/16, 172.16.0.0/12, 100.64.0.0/10, 10.0.0.0/8
fallback_udp_policy=direct

[dns]
no-ipv6
server=114.114.114.114
server=202.96.128.86
server=223.5.5.5

[policy]
# å…¶ä¸­ Apple Update ä¸ºå±è”½iOSç³»ç»Ÿæ›´æ–°çš„ç­–ç•¥ç»„ï¼Œé»˜è®¤ä¿æŒç›´è¿ï¼Œå¦‚æœ‰éœ€è¦å±è”½ï¼Œè¯·åœ¨ç­–ç•¥ç»„é¢æ¿è‡ªè¡Œåˆ‡æ¢è‡³REJECTï¼› 
# CNMedia åˆ†æµä¸ºä¸­å›½åª’ä½“ï¼ˆåŒ…æ‹¬Bç«™ã€çˆ±å¥‡è‰ºç­‰ï¼‰ï¼›GBMedia ä¸ºå›½é™…åª’ä½“ï¼ˆåŒ…æ‹¬HULUã€HBOç­‰ï¼‰ï¼›  
# Mainland ä¸ºè®¿é—®å¤§éƒ¨åˆ†å¤§é™†ç½‘ç«™æ—¶çš„åˆ†æµç­–ç•¥ï¼›Outside æŒ‡å®šè®¿é—®å¢ƒå¤–ç½‘ç«™æ—¶çš„åˆ†æµï¼›
# Others ä¸ºå…¶ä»–è§„åˆ™ï¼Œè‹¥å‰è¾¹çš„è§„åˆ™éƒ½æ²¡æœ‰è¢«åŒ¹é…åˆ°ï¼Œåˆ™å¬ä»æ­¤ç­–ç•¥ç»„çš„è§„å®šã€‚
# ç­–ç•¥æƒ³èµ°ç‰¹å®šèŠ‚ç‚¹æˆ–å¥—å¨ƒï¼Œè¯·é•¿æŒ‰åˆ†æµç­–ç•¥ç»„è‡ªè¡Œæ·»åŠ èŠ‚ç‚¹/ç­–ç•¥ç»„
# è‡ªåŠ¨æµ‹é€Ÿç­–ç•¥ç»„åªåŒ…å«å¸¸ç”¨åœ°åŒºHK,JP,SG,US,TW, å…¶ä»–åœ°åŒºå’Œæ¸¸æˆèŠ‚ç‚¹å»ºè®®åœ¨Proxyé€‰æ‹©ç„¶åæ”¹å˜åˆ†æµç­–ç•¥
static=Others, direct, proxy, img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Final.png
static=Mainland, direct, proxy, img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Domestic.png
static=Outside, proxy, direct, img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Global.png
static=CNMedia, direct, proxy, img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/DomesticMedia.png
# static=GBMedia, proxy, direct, img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/ForeignMedia.png
# static=Instagram, proxy, ğŸ‡­ğŸ‡°HongKong, ğŸ‡¨ğŸ‡³Taiwan, ğŸ‡¯ğŸ‡µJapan, ğŸ‡¸ğŸ‡¬Singapore, ğŸ‡ºğŸ‡¸United States, img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Instagram.png
# static=TikTok, proxy, ğŸ‡­ğŸ‡°HongKong, ğŸ‡¨ğŸ‡³Taiwan, ğŸ‡¯ğŸ‡µJapan, ğŸ‡¸ğŸ‡¬Singapore, ğŸ‡ºğŸ‡¸United States, img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/TikTok_1.png
# static=YouTube, proxy, ğŸ‡­ğŸ‡°HongKong, ğŸ‡¨ğŸ‡³Taiwan, ğŸ‡¯ğŸ‡µJapan, ğŸ‡¸ğŸ‡¬Singapore, ğŸ‡ºğŸ‡¸United States, img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/YouTube.png
static=Pornhub, direct, proxy, ğŸ‡­ğŸ‡°HongKong, ğŸ‡¨ğŸ‡³Taiwan, ğŸ‡¯ğŸ‡µJapan, ğŸ‡¸ğŸ‡¬Singapore, ğŸ‡ºğŸ‡¸United States, img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Pornhub_1.png
# static=Telegram, proxy, ğŸ‡­ğŸ‡°HongKong, ğŸ‡ºğŸ‡¸United States, img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Telegram.png
static=Google, proxy, ğŸ‡­ğŸ‡°HongKong, ğŸ‡ºğŸ‡¸United States, img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Google_Search.png
static=Steam, ğŸ‡­ğŸ‡°HongKong, ğŸ‡ºğŸ‡¸United States,direct, proxy, img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Steam.png
# static=PayPal, direct, ğŸ‡ºğŸ‡¸United States, img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/PayPal.png
static=AdBlock, reject, direct, img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Advertising.png
# static=Apple Update, direct, reject, proxy, img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Apple_Update.png
static=Apple, direct, proxy, ğŸ‡¯ğŸ‡µJapan, ğŸ‡ºğŸ‡¸United States, img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Apple.png
static=Microsoft, direct, proxy, img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Microsoft.png
static=Speedtest, direct, proxy, img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Speedtest.png
# satic=Spotify, Auto, direct, proxy, ğŸ‡­ğŸ‡°HongKong, ğŸ‡¨ğŸ‡³Taiwan, ğŸ‡¯ğŸ‡µJapan, ğŸ‡¸ğŸ‡¬Singapore, ğŸ‡ºğŸ‡¸United States, img-url=https://raw.githubusercontent.com/Kstoolson/Qure/master/IconSet/Color/Spotify.png
# static=Netflix, Auto, direct, proxy, ğŸ‡­ğŸ‡°HongKong, ğŸ‡¨ğŸ‡³Taiwan, ğŸ‡¯ğŸ‡µJapan, ğŸ‡¸ğŸ‡¬Singapore, ğŸ‡ºğŸ‡¸United States, img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Netflix_Letter.png
# url-latency-benchmark=Auto, server-tag-regex=(?=.*(ç¾å›½|ç¾åœ‹|US|(?i)States|American))^((?!(ä¸“çº¿|æ‰‹æ¸¸|æ¸¸æˆ|(?i)IPLC|IEPL|game)).)*$, check-interval=1800, tolerance=0, img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Auto.png
# url-latency-benchmark=Auto-Game, server-tag-regex=(æ‰‹æ¸¸|æ¸¸æˆ|ä¸“çº¿|(?i)IPLC|IEPL|game), check-interval=1800, tolerance=0, img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Server.png
url-latency-benchmark=ğŸ‡­ğŸ‡°HongKong, server-tag-regex=(?=.*(é¦™æ¸¯|HK|(?i)Hong))^((?!(ä¸“çº¿|æ‰‹æ¸¸|æ¸¸æˆ|(?i)IPLC|IEPL|game)).)*$, check-interval=1800, tolerance=0, img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Hong_Kong.png
url-latency-benchmark=ğŸ‡¨ğŸ‡³Taiwan, server-tag-regex=(?=.*(å°æ¹¾|å°ç£|TW|(?i)Taiwan))^((?!(ä¸“çº¿|æ‰‹æ¸¸|æ¸¸æˆ|(?i)IPLC|IEPL|game)).)*$, check-interval=1800, tolerance=0, img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/China.png
url-latency-benchmark=ğŸ‡¯ğŸ‡µJapan, server-tag-regex=(?=.*(æ—¥æœ¬|JP|(?i)Japan))^((?!(ä¸“çº¿|æ‰‹æ¸¸|æ¸¸æˆ|(?i)IPLC|IEPL|game)).)*$, check-interval=1800, tolerance=0, img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Japan.png
url-latency-benchmark=ğŸ‡¸ğŸ‡¬Singapore, server-tag-regex=(?=.*(æ–°åŠ å¡|ç‹®åŸ|SG|(?i)Singapore))^((?!(ä¸“çº¿|æ‰‹æ¸¸|æ¸¸æˆ|(?i)IPLC|IEPL|game)).)*$, check-interval=1800, tolerance=0, img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Singapore.png
url-latency-benchmark=ğŸ‡ºğŸ‡¸United States, server-tag-regex=(?=.*(ç¾å›½|ç¾åœ‹|US|(?i)States|American))^((?!(ä¸“çº¿|æ‰‹æ¸¸|æ¸¸æˆ|(?i)IPLC|IEPL|game)).)*$, check-interval=1800, tolerance=0, img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/United_States.png

[server_local]
# æœ¬åœ°æœåŠ¡å™¨éƒ¨åˆ†, è‡ªè¡Œæ·»åŠ å³å¯

[server_remote]
# èŠ‚ç‚¹è¿œç¨‹è®¢é˜…

[filter_remote]
# è¿œç¨‹åˆ†æµè§„åˆ™ç­–ç•¥ç»„
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/Apple/Apple.list, tag=Apple (AppleæœåŠ¡), force-policy=Apple, update-interval=86400, opt-parser=false, enabled=true
# https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/AppStore/AppStore.list, tag=Apple (AppleæœåŠ¡), force-policy=Apple, update-interval=86400, opt-parser=false, enabled=true
# https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/TestFlight/TestFlight.list, tag=Testflight, force-policy=Apple, update-interval=86400, opt-parser=true, enabled=true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/Advertising/Advertising.list, tag=AdBlock (å¹¿å‘Šæ‹¦æˆª), force-policy=AdBlock, update-interval=86400, enabled=true
https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Guard/Privacy.list, tag=Privacy(éšç§), force-policy=reject, update-interval=86400, opt-parser=true, enabled=true
# https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/Instagram/Instagram.list, tag=Instagram, force-policy=Instagram, update-interval=86400, opt-parser=false, enabled=true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/TikTok/TikTok.list, tag=TikTok, force-policy=Outside, update-interval=86400, opt-parser=false, enabled=true
https://raw.githubusercontent.com/DivineEngine/Profiles/master/Quantumult/Filter/StreamingMedia/Video/Pornhub.list, tag=Pornhub, force-policy=Pornhub, update-interval=86400, opt-parser=false, enabled=true
# https://raw.githubusercontent.com/DivineEngine/Profiles/master/Quantumult/Filter/StreamingMedia/Video/YouTube.list, tag=YouTubeï¼ˆæ²¹ç®¡ï¼‰, force-policy=Google, update-interval=86400, opt-parser=false, enabled=true
# https://raw.githubusercontent.com/DivineEngine/Profiles/master/Quantumult/Filter/Extra/Telegram/Telegram.list, tag=Telegramï¼ˆç”µæŠ¥ï¼‰, force-policy=Telegram, update-interval=86400, opt-parser=false, enabled=true
#https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/Microsoft/Microsoft.list, tag=Microsoftï¼ˆå¾®è½¯å¹³å°ï¼‰, force-policy=Microsoft, update-interval=86400, opt-parser=false, enabled=true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/Speedtest/Speedtest.list, tag=Speedtestï¼ˆæµ‹é€Ÿå¹³å°ï¼‰, force-policy=Speedtest, update-interval=86400, opt-parser=false, enabled=true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/Google/Google.list, tag=Google (å…¨å®¶æ¡¶), force-policy=Google, update-interval=86400, opt-parser=false, enabled=true
https://raw.githubusercontent.com/DivineEngine/Profiles/master/Quantumult/Filter/Global.list, tag=Outside (å¢ƒå¤–ç½‘ç«™), force-policy=Outside, update-interval=86400, opt-parser=false, enabled=true
https://raw.githubusercontent.com/DivineEngine/Profiles/master/Quantumult/Filter/China.list, tag=Mainland (å¤§é™†ç½‘ç«™), force-policy=Mainland, update-interval=86400, opt-parser=false, enabled=true
https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/StreamingMedia/Region/HK.list, tag=HKMedia, force-policy=ğŸ‡­ğŸ‡°HongKong, update-interval=86400, opt-parser=true, enabled=true
https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/StreamingMedia/Region/TW.list, tag=TWMedia, force-policy=ğŸ‡¨ğŸ‡³Taiwan, update-interval=86400, opt-parser=true, enabled=true
https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/StreamingMedia/Region/JP.list, tag=JPMedia, force-policy=ğŸ‡¯ğŸ‡µJapan, update-interval=86400, opt-parser=true, enabled=true
https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/StreamingMedia/Region/US.list, tag=USMedia, force-policy=ğŸ‡ºğŸ‡¸United States, update-interval=86400, opt-parser=true, enabled=true
https://raw.githubusercontent.com/DivineEngine/Profiles/master/Quantumult/Filter/StreamingMedia/StreamingCN.list, tag=CNMedia (å¤§é™†æµåª’ä½“), force-policy=CNMedia, update-interval=86400, opt-parser=false, enabled=true
https://raw.githubusercontent.com/DivineEngine/Profiles/master/Quantumult/Filter/StreamingMedia/Streaming.list, tag=GBMedia (å¢ƒå¤–æµåª’ä½“), force-policy=GBMedia, update-interval=86400, opt-parser=true, enabled=true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/Steam/Steam.list, tag=Steam, force-policy=Steam, update-interval=86400, opt-parser=false, enabled=true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/PayPal/PayPal.list, tag=PayPalï¼ˆè´å®ï¼‰, force-policy=Google, update-interval=86400, opt-parser=false, enabled=true
https://cdn.jsdelivr.net/gh/17mon/china_ip_list@master/china_ip_list.txt#type=rule, tag=ChinaIPv4, force-policy=direct, update-interval=86400, opt-parser=true, enabled=true
https://gaoyifan.github.io/china-operator-ip/chinanet6.txt#type=rule, tag=ChinaIPv6, force-policy=direct, update-interval=86400, opt-parser=true, enabled=true
# https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/Netflix/Netflix.list, tag=Netflixï¼ˆå¥ˆé£ï¼‰, force-policy=Netflix, update-interval=86400, opt-parser=false, enabled=true
# https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/Spotify/Spotify.list, tag=Spotifyï¼ˆå£°ç”°éŸ³ä¹ï¼‰, force-policy=Spotify, update-interval=86400, opt-parser=false, enabled=true

[filter_local]
# æœ¬åœ°åˆ†æµè§„åˆ™(ç›¸åŒè§„åˆ™ä¸‹ï¼Œæœ¬åœ°è§„åˆ™å°†è¦†ç›–è¿œç¨‹è§„åˆ™ï¼Œä¼˜å…ˆç”Ÿæ•ˆ)
# ç»•è¿‡ä¼ä¸šè¯ä¹¦è¿‡æœŸ
# host, ocsp.apple.com, reject

# å±è”½ç³»ç»Ÿæ›´æ–°
# host, ns.itunes.apple.com, Apple Update
# host, appldnld.apple.com, Apple Update
# host, mesu.apple.com, Apple Update
# host, xp.apple.com, Apple Update
# host, gdmf.apple.com, Apple Update

# é¿å…è¿…é›·ç‰ˆæƒé—®é¢˜
# host, hub5idx.v6.shub.sandai.net, reject
# host, hub5emu.v6.shub.sandai.net, reject
# host, hub5btmain.v6.shub.sandai.net, reject

# é“¶è¡Œ
HOST-SUFFIX,95599.cn,direct
HOST-SUFFIX,abchina.com,direct
HOST-SUFFIX,bscabank.com,direct
HOST-SUFFIX,openaboc.cn,direct
HOST-SUFFIX,openaboc.com,direct
HOST-SUFFIX,openaboc.com.cn,direct

# Netease Music Advertising
host,admusicpic.music.126.net,reject
host,iadmat.nosdn.127.net,reject
host,iadmusicmat.music.126.net,reject
host,iadmusicmatvideo.music.126.net,reject

# å…¶ä»–
host-suffix, local, direct
ip-cidr, 10.0.0.0/8, direct
ip-cidr, 100.64.0.0/10, direct
ip-cidr, 127.0.0.0/8, direct
ip-cidr, 172.16.0.0/12, direct
ip-cidr, 192.168.0.0/16, direct
ip6-cidr, fe80::/10, direct
# Geoip
# geoip, cn, direct
# Final
final, Others

[rewrite_remote]
https://raw.githubusercontent.com/dpdpzz/QuantumultX/main/Js_Script/Js_Script.conf, tag=Jsè„šæœ¬, update-interval=86400, opt-parser=false, enabled=true
https://raw.githubusercontent.com/dpdpzz/QuantumultX/main/Upgrade_Disable/Upgrade_Disable.conf, tag=å±è”½appå‡çº§, update-interval=86400, opt-parser=false, enabled=true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/release/rewrite/QuantumultX/AllInOne/AllInOne.conf, tag=blackmatrix7å»å¹¿å‘Šé‡å®šå‘, update-interval=86400, opt-parser=false, enabled=true
# https://raw.githubusercontent.com/DivineEngine/Profiles/master/Quantumult/Rewrite/General.conf, tag=ç¥æœºGoogleé‡å®šå‘, update-interval=86400, opt-parser=false, enabled=true
https://raw.githubusercontent.com/chavyleung/scripts/master/box/rewrite/boxjs.rewrite.quanx.conf, tag=Boxjs, update-interval=86400, opt-parser=false, enabled=false



[rewrite_local]
# æœ¬åœ°å¤å†™è§„åˆ™

[task_local]
# å…¶ä»–è‡ªåŠ¨åŒ–è„šæœ¬åŠå®šæ—¶ä¿¡æ¯

[http_backend]
# å°†boxjsçš„åŠ è½½æ–¹å¼ä¿®æ”¹ä¸ºhttp_backendæ–¹å¼,é»˜è®¤æµè§ˆå™¨ç™»å½•boxjsåœ°å€ä¸º127.0.0.1:9999
# https://raw.githubusercontent.com/chavyleung/scripts/master/chavy.box.js, host=boxjs.com, tag=BoxJS, path=^/, enabled=true

[mitm]
# éœ€è¦åœ¨åœˆxè®¾ç½®ä¸­ç”Ÿæˆmitmè¯ä¹¦å¹¶å®‰è£…å,åœˆxæ‰èƒ½æ­£å¸¸å·¥ä½œã€‚
skip_validating_cert = true
